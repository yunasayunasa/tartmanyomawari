<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8" />
    <title>Odyssey Engine</title>
    
    <!-- Â§ñÈÉ®CSS„Éï„Ç°„Ç§„É´„ÇíË™≠„ÅøËæº„ÇÄ -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Â§ñÈÉ®„Éï„Ç©„É≥„Éà„ÇíË™≠„ÅøËæº„ÇÄ (Google Fonts) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DotGothic16&display=swap" rel="stylesheet">
    
    <!-- Â§ñÈÉ®„É©„Ç§„Éñ„É©„É™„ÇíË™≠„ÅøËæº„ÇÄ -->
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.min.js"></script>
</head>
<body>

    <!-- ====================================================================== -->
    <!--  1. Phaser Game Container                                              -->
    <!-- ====================================================================== -->
    <!-- Phaser„ÅÆScaleManager„Åå„ÄÅ„Åì„ÅÆË¶ÅÁ¥†ÂÜÖ„Å´<canvas>„ÇíÁîüÊàê„Åó„ÄÅ         -->
    <!-- „Åù„ÅÆ‰ΩçÁΩÆ„Å®„Çµ„Ç§„Ç∫„ÇíËá™ÂãïÁöÑ„Å´ÁÆ°ÁêÜ„Åó„Åæ„Åô„ÄÇ                               -->
    <!-- ÈÄöÂ∏∏„É¢„Éº„Éâ„Åß„ÅØÁîªÈù¢‰∏≠Â§Æ„Å´„ÄÅ„Éá„Éê„ÉÉ„Ç∞„É¢„Éº„Éâ„Åß„ÅØCSS„ÅÆË£úÂä©„ÅßÈÖçÁΩÆ„Åï„Çå„Åæ„Åô„ÄÇ    -->
     <div id="app-container"></div>
    <div id="game-container"></div>


    <!-- ====================================================================== -->
    <!--  2. Editor UI Root Container                                           -->
    <!-- ====================================================================== -->
    <!-- „Åô„Åπ„Å¶„ÅÆ„Ç®„Éá„Ç£„ÇøÈñ¢ÈÄ£UI„ÅØ„ÄÅ„Åì„ÅÆ„Ç≥„É≥„ÉÜ„Éä„ÅÆ‰∏≠„Å´Ê†ºÁ¥ç„Åó„Åæ„Åô„ÄÇ             -->
    <!-- ÈÄöÂ∏∏ÊôÇ„ÅØ display: none „ÅßÈùûË°®Á§∫„Å´„Å™„Çä„ÄÅ„Éá„Éê„ÉÉ„Ç∞„É¢„Éº„Éâ„Åß„ÅÆ„ÅøË°®Á§∫„Åï„Çå„Åæ„Åô„ÄÇ -->
    <div id="editor-root">

        <!-- (A) Right Sidebar: „Ç¢„Çª„ÉÉ„Éà„Éñ„É©„Ç¶„Ç∂„Å®„Éó„É≠„Éë„ÉÜ„Ç£„Éë„Éç„É´ -->
        <div id="editor-sidebar">
<div id="layers-panel" class="editor-panel">
                <div class="panel-header">
                    <span>Layers</span>
                    <div class="panel-header-buttons">
                        <button id="add-layer-btn" title="Add New Layer">+</button>
                    </div>
                </div>
                <div id="layer-list" class="panel-content"></div>
            </div>
            <!-- Asset Browser Panel -->
            <div id="asset-browser" class="editor-panel">
                <div class="panel-header">
                    <span class="panel-title">Asset Browser</span>
                    <div class="panel-header-buttons">
                        <button id="add-text-button" title="Add New Text Object">T+</button>
                        <!-- Help button is dynamically added here by JavaScript -->
                    </div>
                </div>
                <div id="asset-tabs" class="panel-tabs">
                    <!-- Asset category tabs are dynamically generated here -->
                </div>
                <div id="asset-list" class="panel-content">
                    <!-- Asset items are dynamically generated here -->
                </div>
                <button id="add-asset-button" class="panel-footer-button">Add Selected Asset</button>
            </div>

            <!-- Property Editor Panel -->
            <div id="editor-panel" class="editor-panel">
                <div id="editor-title" class="panel-header">Properties</div>
                <div id="editor-props" class="panel-content">
                    <!-- Object properties will be displayed here -->
                </div>
            </div>

        </div> <!-- /#editor-sidebar -->


        <!-- (B) Overlay Controls: „Ç´„É°„É©Êìç‰Ωú„ÇÑ„É¢„Éº„ÉâÂàáÊõø„Å™„Å© -->
        <div id="overlay-controls">
            <div id="camera-controls">
                <button id="camera-zoom-in" title="Zoom In">+</button>
                <button id="camera-zoom-out" title="Zoom Out">-</button>
                <button id="camera-pan-up" title="Pan Up">‚Üë</button>
                <button id="camera-pan-down" title="Pan Down">‚Üì</button>
                <button id="camera-pan-left" title="Pan Left">‚Üê</button>
                <button id="camera-pan-right" title="Pan Right">‚Üí</button>
                <button id="camera-reset" title="Reset Camera">Reset</button>
            </div>
            <div id="editor-mode-controls">
                <button id="select-mode-btn" class="mode-button active">Select</button>
                <button id="tilemap-mode-btn" class="mode-button">Tilemap</button>
                <!-- ‚ñº‚ñº‚ñº „Åì„ÅÆ„Éú„Çø„É≥„ÇíËøΩÂä† ‚ñº‚ñº‚ñº -->
    <button id="editor-refresh-btn" title="Refresh Editable Objects">üîÑ</button>
    <!-- ‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤ -->
    
                <label class="mode-switch" style="margin-left: auto;">
                    <input type="checkbox" id="mode-toggle-checkbox">
                    <span class="slider"></span>
                </label>
                <span id="mode-label">Select Mode</span>
            </div>
        </div> <!-- /#overlay-controls -->


    <!-- (C) Bottom Panel: „Çø„Ç§„É´„Éû„ÉÉ„Éó„Ç®„Éá„Ç£„Çø -->
        <!-- ‚òÖ‚òÖ‚òÖ „Åì„ÅÆ„Éñ„É≠„ÉÉ„ÇØ„ÇíÂÆåÂÖ®„Å´ÂâäÈô§ ‚òÖ‚òÖ‚òÖ -->


        <!-- (D) Modal Windows -->
        
        <!-- ‚ñº‚ñº‚ñº „Åì„Åì„Å´Êñ∞„Åó„ÅÑ„Çø„Ç§„É´„Éû„ÉÉ„Éó„É¢„Éº„ÉÄ„É´„ÇíËøΩÂä† ‚ñº‚ñº‚ñº -->
        <div id="tilemap-editor-overlay" class="modal-overlay">
            <div class="modal-window wide"> <!-- wide„ÇØ„É©„Çπ„ÅßÂπÖÂ∫É„Å´ -->
                <div class="modal-header">
                    <h3>Tilemap Editor</h3>
                    <button id="tilemap-editor-close-btn" class="modal-close-btn">&times;</button>
                </div>
                <div class="modal-content" id="tilemap-editor-body">
                    <!-- Â∑¶„Éö„Ç§„É≥: „Çø„Ç§„É´„Éû„ÉÉ„Éó„É™„Çπ„Éà -->
                    <div id="tilemap-list-panel">
                        <h4>Tilemaps</h4>
                        <div id="tilemap-list-container">
                            <!-- JS„Åß„Çø„Ç§„É´„Éû„ÉÉ„Éó„ÅÆ„É™„Çπ„Éà„ÇíÁîüÊàê -->
                        </div>
                    </div>
                    <!-- Âè≥„Éö„Ç§„É≥: „Éó„É¨„Éì„É•„Éº„Å®Êìç‰Ωú„Éë„Éç„É´ -->
                    <div id="tilemap-preview-panel">
                        <div id="tilemap-preview-header">
                            <span id="selected-tilemap-name">No tilemap selected</span>
                        </div>
                        <div id="tilemap-preview-wrapper">
                            <div id="tilemap-preview-content">
                                <!-- JS„Åß„Çø„Ç§„É´„Éû„ÉÉ„ÉóÁîªÂÉè„Å®„ÇØ„É≠„ÉÉ„ÉóÁî®„ÅÆUI„ÇíÁîüÊàê -->
                            </div>
                        </div>
                        <div id="tilemap-action-panel">
                            <button id="crop-and-place-btn">Crop Selection & Place</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- (D) Modal Windows -->
        <!-- Animation Editor Modal -->
        <div id="anim-editor-overlay" class="modal-overlay">
            <div class="modal-window">
                <div class="modal-header">
                    <h3 id="animation-editor-title">Animation Editor</h3>
                    <button id="animation-editor-close-btn" class="modal-close-btn">&times;</button>
                </div>
                <div id="animation-editor-content" class="modal-content"></div>
            </div>
        </div>
        <!-- Event Editor Modal -->
        <div id="event-editor-overlay" class="modal-overlay">
            <div class="modal-window wide"> <!-- ‚òÖ wide„ÇØ„É©„Çπ„ÇíËøΩÂä†„Åó„Å¶„ÄÅ„É¢„Éº„ÉÄ„É´„ÇíÂ∫É„Åè„Åô„Çã -->
                <div class="modal-header">
                    <h3 id="event-editor-title">„Ç§„Éô„É≥„ÉàÁ∑®ÈõÜ</h3>
                    <button id="event-editor-close-btn" class="modal-close-btn">&times;</button>
                </div>
                
                <!-- ‚ñº‚ñº‚ñº „Åì„Åì„Åã„Çâ„Åå„ÄÅÊñ∞„Åó„ÅèËøΩÂä†„ÉªÂ§âÊõ¥„Åô„ÇãÈÉ®ÂàÜ„Åß„Åô ‚ñº‚ñº‚ñº -->
                <div id="event-editor-main-content" class="modal-content">
                    
                    <!-- (Â∑¶ÂÅ¥) ËøΩÂä†„Åß„Åç„Çã„Éé„Éº„Éâ„ÅÆ„É™„Çπ„Éà„Å™„Å©„ÇíÁΩÆ„Åè„ÉÑ„Éº„É´„Éê„Éº -->
                    <div id="vsl-toolbar">
                         <div id="vsl-trigger-editor">
                            <h4>„Éà„É™„Ç¨„Éº</h4>
                            <select id="vsl-trigger-select"></select>
                            <div id="vsl-trigger-context">
                                <!-- Áä∂Ê≥Å„Å´Âøú„Åò„Å¶„ÄÅJS„Åå„Åì„Åì„Å´ÂÖ•ÂäõÊ¨Ñ„ÇíËøΩÂä†„Åó„Åæ„Åô -->
                            </div>
                        </div>
                        <hr>
                      <div id="vsl-tabs-container">
                            <h4>„Ç§„Éô„É≥„Éà„Ç∞„É©„Éï</h4>
                            <div id="vsl-tabs">
                                <!-- „Çø„Éñ„Éú„Çø„É≥„ÅØJS„Åß„Åì„Åì„Å´ËøΩÂä†„Åï„Çå„Åæ„Åô -->
                            </div>
                        </div>
                        <hr>
                        <h4>„Éé„Éº„Éâ„ÇíËøΩÂä†</h4>
                        <div id="vsl-node-list">
                            <!-- „Åì„ÅÆ‰∏≠Ë∫´„ÅØJavaScript„ÅßÂãïÁöÑ„Å´ÁîüÊàê„Åï„Çå„Åæ„Åô -->
                        </div>
                    </div>

                    <!-- (Âè≥ÂÅ¥) „Éé„Éº„Éâ„ÇíÈÖçÁΩÆ„Åô„ÇãÂ∫ÉÂ§ß„Å™„Ç≠„É£„É≥„Éê„Çπ -->
                    <div id="vsl-canvas-wrapper">
                        <div id="vsl-canvas">
                             <svg id="vsl-svg-layer" width="2000" height="2000"></svg>
                            <!-- „Éé„Éº„Éâ„ÅØJavaScript„Åß„Åì„Åì„Å´ËøΩÂä†„Åï„Çå„Åæ„Åô -->
                        </div>
                    </div>

                </div>
                <!-- ‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤ -->
            </div>
        </div>
     <!-- in index.html -->

<!-- ================================================================= -->
<!-- ‚ñº‚ñº‚ñº „Çπ„ÉÜ„Éº„Éà„Éû„Ç∑„É≥„Éª„Ç®„Éá„Ç£„Çø (ÂÆåÂÖ®ÂàÜÈõ¢Áâà) ‚ñº‚ñº‚ñº -->
<!-- ================================================================= -->
<div id="sm-editor-overlay" class="modal-overlay">
    <div class="modal-window" style="width: 95vw; height: 90vh; max-width: none;">
        <div class="modal-header">
            <h3 id="sm-editor-title">„Çπ„ÉÜ„Éº„Éà„Éû„Ç∑„É≥Á∑®ÈõÜ</h3>
            <button id="sm-editor-close-btn" class="modal-close-btn">&times;</button>
        </div>
        <div class="modal-content" id="sm-editor-body">
            
            <!-- ====== Â∑¶„Éö„Ç§„É≥: Áä∂ÊÖã„É™„Çπ„Éà ====== -->
            <div id="sm-states-panel">
                <div class="panel-header">
                    <h4>States</h4>
                    <!-- ‚òÖ‚òÖ‚òÖ„ÄåÁä∂ÊÖã„ÇíËøΩÂä†„Äç„Éú„Çø„É≥„ÇíËøΩÂä† ‚òÖ‚òÖ‚òÖ -->
                    <button id="sm-add-state-btn" title="Êñ∞„Åó„ÅÑÁä∂ÊÖã„ÇíËøΩÂä†">+</button>
                </div>
                <!-- ‚òÖ‚òÖ‚òÖ Áä∂ÊÖã„É™„Çπ„Éà„ÅåË°®Á§∫„Åï„Çå„Çã„Ç≥„É≥„ÉÜ„Éä ‚òÖ‚òÖ‚òÖ -->
                <div id="sm-states-list">
                    <!-- („Åì„Åì„Å´„ÅØJavaScript„Å´„Çà„Å£„Å¶ .sm-state-item „ÅåÂãïÁöÑ„Å´ËøΩÂä†„Åï„Çå„Åæ„Åô) -->
                </div>
            </div>

            <!-- ====== Âè≥„Éö„Ç§„É≥: VSLÁ∑®ÈõÜ„Ç®„É™„Ç¢ ====== -->
            <!-- ====== Âè≥„Éö„Ç§„É≥: VSLÁ∑®ÈõÜ„Ç®„É™„Ç¢ ====== -->
<div id="sm-vsl-panel">
    <div id="sm-hooks-tabs">
        <!-- („Åì„Åì„Å´„ÅØJavaScript„Å´„Çà„Å£„Å¶„Çø„Éñ„ÅåÂãïÁöÑ„Å´ËøΩÂä†„Åï„Çå„Åæ„Åô) -->
    </div>

    <!-- ‚òÖ‚òÖ‚òÖ VSL„Ç®„Éá„Ç£„Çø„ÅÆ„Ç≥„É≥„ÉÜ„ÉäÊßãÈÄ†„Çí„ÄÅ„Ç§„Éô„É≥„Éà„Ç®„Éá„Ç£„Çø„ÅÆ„ÇÇ„ÅÆ„Å®Âêà„Çè„Åõ„Çã ‚òÖ‚òÖ‚òÖ -->
    <div class="sm-vsl-editor-container">
        
        <!-- Â∑¶ÂÅ¥: „Éé„Éº„Éâ„ÇíËøΩÂä†„Åô„Çã„ÉÑ„Éº„É´„Éê„Éº -->
        <div class="sm-vsl-toolbar">
            <h4>„Éé„Éº„Éâ„É™„Çπ„Éà</h4>
            <div class="sm-vsl-node-list">
                <!-- (populateVslToolbar„Å´„Çà„Å£„Å¶„Éé„Éº„Éâ„Éú„Çø„É≥„ÅåËøΩÂä†„Åï„Çå„Åæ„Åô) -->
            </div>
        </div>
        
        <!-- Âè≥ÂÅ¥: „Éé„Éº„Éâ„ÇíÈÖçÁΩÆ„Åô„Çã„Ç≠„É£„É≥„Éê„Çπ -->
        <div class="sm-vsl-canvas-wrapper">
            <div class="sm-vsl-canvas">
                <!-- (populateVslCanvas„Å´„Çà„Å£„Å¶„Éé„Éº„Éâ„ÅåËøΩÂä†„Åï„Çå„Åæ„Åô) -->
            </div>
        </div>

    </div>
</div>
            </div>

        </div>
    </div>
</div>
<!-- ================================================================= -->
<!-- ‚ñ≤‚ñ≤‚ñ≤ „Çπ„ÉÜ„Éº„Éà„Éû„Ç∑„É≥„Éª„Ç®„Éá„Ç£„Çø („Åì„Åì„Åæ„Åß) ‚ñ≤‚ñ≤‚ñ≤ -->
<!-- ================================================================= -->
        <!-- Help Modal -->
        <div id="help-modal-overlay" class="modal-overlay">
            <div class="modal-window">
                <div class="modal-header">
                    <h3 id="help-modal-title">Odyssey Engine Help</h3>
                    <button id="help-modal-close-btn" class="modal-close-btn">&times;</button>
                </div>
                <div id="help-modal-content" class="modal-content"></div>
            </div>
        </div>

    </div> <!-- /#editor-root -->


    <!-- ====================================================================== -->
    <!--  3. JavaScript Entry Point                                             -->
    <!-- ====================================================================== -->
    <script type="module" src="src/main.js"></script>

</body>

</html>

